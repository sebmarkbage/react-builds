/** @license React vundefined
 * react-flight-dom-webpack-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';function f(b){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+b,d=1;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+b+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k=new TextEncoder,l=JSON.stringify,m=60103,n=60107,p=60116,q=60121,r=60122;
if("function"===typeof Symbol&&Symbol.for){var t=Symbol.for;m=t("react.element");n=t("react.fragment");p=t("react.lazy");q=t("react.block");r=t("react.server.block")}function u(b,c,d){var a=[],e={destination:c,bundlerConfig:d,nextChunkId:0,pendingChunks:0,pingedSegments:a,completedJSONChunks:[],completedErrorChunks:[],flowing:!1,toJSON:function(a,b){return v(e,this,a,b)}};e.pendingChunks++;c=w(e,function(){return b});a.push(c);return e}
function w(b,c){var d={id:b.nextChunkId++,query:c,ping:function(){var a=b.pingedSegments;a.push(d);1===a.length&&x(b)}};return d}
function v(b,c,d,a){switch(a){case m:return"$";case r:return"@";case p:case q:throw Error(f(352));}if(c[0]===r)switch(d){case "1":try{return b.bundlerConfig[a]}catch(e){return b.pendingChunks++,c=b.nextChunkId++,A(b,c,e),"$"+c.toString(16)}case "2":c=a;try{return c()}catch(e){if("object"===typeof e&&null!==e&&"function"===typeof e.then)return b.pendingChunks++,b=w(b,c),c=b.ping,e.then(c,c),"$"+b.id.toString(16);b.pendingChunks++;c=b.nextChunkId++;A(b,c,e);return"$"+c.toString(16)}default:throw Error(f(353));
}if("string"===typeof a)return b="$"===a[0]||"@"===a[0]?"$"+a:a,b;for(;"object"===typeof a&&null!==a&&a.$$typeof===m;)if(b=a,c=b.type,d=b.props,"function"===typeof c)a=c(d);else if("string"===typeof c||c[0]===r)a=[m,c,b.key,b.props];else if(c===n)a=b.props.children;else throw Error(f(351));return a}
function A(b,c,d){var a="";try{if(d instanceof Error){var e=""+d.message;a=""+d.stack}else e="Error: "+d}catch(g){e="An error occurred but serializing the error message failed."}d={message:e,stack:a};c="E"+c.toString(16)+":"+l(d)+"\n";c=k.encode(c);b.completedErrorChunks.push(c)}
function x(b){var c=b.pingedSegments;b.pingedSegments=[];for(var d=0;d<c.length;d++){var a=c[d];var e=b,g=a.query;try{var C=g();g=void 0;var y=a.id,z=l(C,e.toJSON);g=0===y?z+"\n":"J"+y.toString(16)+":"+z+"\n";var E=k.encode(g);e.completedJSONChunks.push(E)}catch(h){"object"===typeof h&&null!==h&&"function"===typeof h.then?(a=a.ping,h.then(a,a)):A(e,a.id,h)}}b.flowing&&B(b)}var D=!1;
function B(b){if(!D){D=!0;var c=b.destination;try{for(var d=b.completedJSONChunks,a=0;a<d.length;a++)if(b.pendingChunks--,c.enqueue(d[a]),!(0<c.desiredSize)){b.flowing=!1;a++;break}d.splice(0,a);var e=b.completedErrorChunks;for(a=0;a<e.length;a++)if(b.pendingChunks--,c.enqueue(e[a]),!(0<c.desiredSize)){b.flowing=!1;a++;break}e.splice(0,a)}finally{D=!1}0===b.pendingChunks&&c.close()}}
exports.renderToReadableStream=function(b,c){var d;return new ReadableStream({start:function(a){a=d=u(b,a,c);a.flowing=!0;x(a)},pull:function(){var a=d;a.flowing=!0;B(a)},cancel:function(){}})};
