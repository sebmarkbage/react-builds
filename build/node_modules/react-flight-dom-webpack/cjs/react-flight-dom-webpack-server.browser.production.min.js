/** @license React vundefined
 * react-flight-dom-webpack-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';function g(b){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+b,d=1;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+b+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}
var k=new TextEncoder,l=JSON.stringify,m="function"===typeof Symbol&&Symbol.for,n=m?Symbol.for("react.element"):60103,p=m?Symbol.for("react.fragment"):60107,q=m?Symbol.for("react.lazy"):60116,r=m?Symbol.for("react.block"):60121,t=m?Symbol.for("react.server.block"):60122;
function u(b,c,d){var a=[],e={destination:c,bundlerConfig:d,nextChunkId:0,pendingChunks:0,pingedSegments:a,completedJSONChunks:[],completedErrorChunks:[],flowing:!1,toJSON:function(a,b){return x(e,this,a,b)}};e.pendingChunks++;c=y(e,function(){return b});a.push(c);return e}function y(b,c){var d={id:b.nextChunkId++,query:c,ping:function(){var a=b.pingedSegments;a.push(d);1===a.length&&z(b)}};return d}
function x(b,c,d,a){switch(a){case n:return"$";case t:return"@";case q:case r:throw Error(g(352));}if(c[0]===t)switch(d){case "1":try{return b.bundlerConfig[a]}catch(e){return b.pendingChunks++,c=b.nextChunkId++,A(b,c,e),"$"+c.toString(16)}case "2":c=a;try{return c()}catch(e){if("object"===typeof e&&null!==e&&"function"===typeof e.then)return b.pendingChunks++,b=y(b,c),c=b.ping,e.then(c,c),"$"+b.id.toString(16);b.pendingChunks++;c=b.nextChunkId++;A(b,c,e);return"$"+c.toString(16)}default:throw Error(g(353));
}if("string"===typeof a)return b="$"===a[0]||"@"===a[0]?"$"+a:a,b;for(;"object"===typeof a&&null!==a&&a.$$typeof===n;)if(b=a,c=b.type,d=b.props,"function"===typeof c)a=c(d);else if("string"===typeof c||c[0]===t)a=[n,c,b.key,b.props];else if(c===p)a=b.props.children;else throw Error(g(351));return a}
function A(b,c,d){var a="";try{if(d instanceof Error){var e=""+d.message;a=""+d.stack}else e="Error: "+d}catch(f){e="An error occurred but serializing the error message failed."}d={message:e,stack:a};c="E"+c.toString(16)+":"+l(d)+"\n";c=k.encode(c);b.completedErrorChunks.push(c)}
function z(b){var c=b.pingedSegments;b.pingedSegments=[];for(var d=0;d<c.length;d++){var a=b,e=c[d],f=e.query;try{var C=f();f=void 0;var v=e.id,w=l(C,a.toJSON);f=0===v?w+"\n":"J"+v.toString(16)+":"+w+"\n";var E=k.encode(f);a.completedJSONChunks.push(E)}catch(h){"object"===typeof h&&null!==h&&"function"===typeof h.then?(a=e.ping,h.then(a,a)):A(a,e.id,h)}}b.flowing&&B(b)}var D=!1;
function B(b){if(!D){D=!0;var c=b.destination;try{for(var d=b.completedJSONChunks,a=0;a<d.length;a++){b.pendingChunks--;var e=c;e.enqueue(d[a]);if(!(0<e.desiredSize)){b.flowing=!1;a++;break}}d.splice(0,a);var f=b.completedErrorChunks;for(a=0;a<f.length;a++)if(b.pendingChunks--,d=c,d.enqueue(f[a]),!(0<d.desiredSize)){b.flowing=!1;a++;break}f.splice(0,a)}finally{D=!1}0===b.pendingChunks&&c.close()}}
exports.renderToReadableStream=function(b,c){var d;return new ReadableStream({start:function(a){a=d=u(b,a,c);a.flowing=!0;z(a)},pull:function(){var a=d;a.flowing=!0;B(a)},cancel:function(){}})};
