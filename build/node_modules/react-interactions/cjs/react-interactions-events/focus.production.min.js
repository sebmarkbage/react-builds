/** @license React vundefined
 * react-interactions-events/focus.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';var g=require("react"),h=!0,k=!1,l="",m=!1,n="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):!1,p=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement)try{var q={};Object.defineProperty(q,"passive",{get:function(){p=!0}});window.addEventListener("test",q,q);window.removeEventListener("test",q,q)}catch(a){p=!1}
var r="undefined"!==typeof window&&null!=window.PointerEvent?["keydown","keyup","pointermove","pointerdown","pointerup"]:"keydown keyup mousedown touchmove touchstart touchend".split(" "),t=["focus","blur","beforeblur"].concat(r),u=["blur"];function v(a,c,d){a.forEach(function(b){window.addEventListener(b,c,d)})}function w(){k||(k=!0,v(r,x,p?{capture:!0,passive:!0}:!0))}
function x(a){switch(a.type){case "pointermove":case "pointerdown":case "pointerup":h=!1;l=a.pointerType;break;case "keydown":case "keyup":var c=a.altKey,d=a.ctrlKey;a.metaKey||!n&&c||d||(l="keyboard",h=!0);break;case "touchmove":case "touchstart":case "touchend":m=!0;h=!1;l="touch";break;case "mousedown":m?m=!1:(h=!1,l="mouse")}}function y(a){return"function"===typeof a}
function z(a,c,d,b,e){return{isTargetAttached:e,target:d,type:c,pointerType:b,timeStamp:a.getTimeStamp(),continuePropagation:function(){a.continuePropagation()}}}function A(a,c,d,b){a=a.type;h=!1;null===d.focusTarget||"mousedown"!==a&&"touchstart"!==a&&"pointerdown"!==a||b(!1)}
function B(a,c,d,b){var e=a.type;d.pointerType=l;switch(e){case "pointermove":case "pointerdown":case "pointerup":A(a,c,d,b);break;case "keydown":case "keyup":c=d.focusTarget;a=a.nativeEvent;d=a.altKey;e=a.ctrlKey;a.metaKey||!n&&d||e||null!==c&&b(!0);break;case "touchmove":case "touchstart":case "touchend":A(a,c,d,b);break;case "mousedown":m||A(a,c,d,b)}}
function C(a,c,d){var b=d.pointerType,e=d.focusTarget,f=c.onFocus;y(f)&&(b=z(a,"focus",e,b,!0),a.dispatchEvent(b,f,0));f=c.onFocusChange;y(f)&&a.dispatchEvent(!0,f,0);d.isFocusVisible&&D(a,c,!0)}function E(a,c,d){var b=d.pointerType,e=d.focusTarget,f=c.onBlur;y(f)&&(b=z(a,"blur",e,b,!0),a.dispatchEvent(b,f,0));f=c.onFocusChange;y(f)&&a.dispatchEvent(!1,f,0);d.isFocusVisible&&D(a,c,!1)}
function F(a,c,d,b){var e=b.pointerType;c=b.focusTarget||c.target;d=d.onFocusWithin;y(d)&&(e=z(a,"focuswithin",c,e,!0),a.dispatchEvent(e,d,0))}function G(a,c,d,b){var e=b.pointerType;c=b.focusTarget||c.target;d=d.onBlurWithin;b=null===b.detachedTarget;y(d)&&(e=z(a,"blurwithin",c,e,b),a.dispatchEvent(e,d,0))}function D(a,c,d){c=c.onFocusVisibleChange;y(c)&&a.dispatchEvent(d,c,0)}
var H=g.DEPRECATED_createResponder("Focus",{targetEventTypes:t,targetPortalPropagation:!0,getInitialState:function(){return{detachedTarget:null,focusTarget:null,isFocused:!1,isFocusVisible:!1,pointerType:"",addedRootEvents:!1}},onMount:function(){w()},onEvent:function(a,c,d,b){var e=a.type,f=a.target;if(d.disabled)b.isFocused&&(E(c,d,b),b.isFocused=!1,b.focusTarget=null);else switch(e){case "focus":b.focusTarget=c.getResponderNode();b.isFocused||b.focusTarget!==f||(b.isFocused=!0,b.isFocusVisible=
h,C(c,d,b));m=!1;break;case "blur":b.isFocused&&(E(c,d,b),b.isFocusVisible=h,b.isFocused=!1);null==a.nativeEvent.relatedTarget&&(b.pointerType="");m=!1;break;default:B(a,c,b,function(a){b.isFocused&&b.isFocusVisible!==a&&(b.isFocusVisible=a,D(c,d,a))})}},onUnmount:function(a,c,d){d.isFocused&&E(a,c,d)}});function I(a,c,d,b){var e=c.onFocusWithinChange;y(e)&&a.dispatchEvent(b,e,0);d.isFocusVisible&&J(a,c,d,b)}function J(a,c,d,b){c=c.onFocusWithinVisibleChange;y(c)&&a.dispatchEvent(b,c,0)}
var K=g.DEPRECATED_createResponder("FocusWithin",{targetEventTypes:t,targetPortalPropagation:!0,getInitialState:function(){return{detachedTarget:null,focusTarget:null,isFocused:!1,isFocusVisible:!1,pointerType:""}},onMount:function(){w()},onEvent:function(a,c,d,b){var e=a.type,f=a.nativeEvent.relatedTarget;if(d.disabled)b.isFocused&&(I(c,d,b,!1),b.isFocused=!1,b.focusTarget=null);else switch(e){case "focus":b.focusTarget=c.getResponderNode();b.isFocused||(b.isFocused=!0,b.isFocusVisible=h,I(c,d,b,
!0));!b.isFocusVisible&&h&&(b.isFocusVisible=h,J(c,d,b,!0));F(c,a,d,b);break;case "blur":b.isFocused&&!c.isTargetWithinResponder(f)&&(I(c,d,b,!1),G(c,a,d,b),b.isFocused=!1);break;case "beforeblur":e=d.onBeforeBlurWithin;y(e)?(f=z(c,"beforeblurwithin",a.target,b.pointerType,!0),b.detachedTarget=a.target,c.dispatchEvent(f,e,0),b.addedRootEvents||(b.addedRootEvents=!0,c.addRootEventTypes(u))):c.continuePropagation();break;default:B(a,c,b,function(a){b.isFocused&&b.isFocusVisible!==a&&(b.isFocusVisible=
a,J(c,d,b,a))})}},onRootEvent:function(a,c,d,b){if("blur"===a.type){var e=b.detachedTarget;null!==e&&e===a.target&&(G(c,a,d,b),b.detachedTarget=null,b.addedRootEvents&&(b.addedRootEvents=!1,c.removeRootEventTypes(u)))}},onUnmount:function(a,c,d){d.isFocused&&I(a,c,d,!1)}}),L={__proto__:null,FocusResponder:H,useFocus:function(a){return g.DEPRECATED_useResponder(H,a)},FocusWithinResponder:K,useFocusWithin:function(a){return g.DEPRECATED_useResponder(K,a)}};module.exports=L&&L["default"]||L;
