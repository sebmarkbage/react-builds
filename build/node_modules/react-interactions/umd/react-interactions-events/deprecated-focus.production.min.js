/** @license React vundefined
 * react-interactions-events/deprecated-focus.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(k,l){"object"===typeof exports&&"undefined"!==typeof module?l(exports,require("react")):"function"===typeof define&&define.amd?define(["exports","react"],l):(k=k||self,l(k.ReactEventsFocus={},k.React))})(this,function(k,l){function G(a,c,d){a.forEach(function(b){window.addEventListener(b,c,d)})}function y(){z||(z=!0,G(A,H,t?{capture:!0,passive:!0}:!0))}function H(a){switch(a.type){case "pointermove":case "pointerdown":case "pointerup":h=!1;q=a.pointerType;break;case "keydown":case "keyup":var c=
a.altKey,d=a.ctrlKey;a.metaKey||!B&&c||d||(q="keyboard",h=!0);break;case "touchmove":case "touchstart":case "touchend":n=!0;h=!1;q="touch";break;case "mousedown":n?n=!1:(h=!1,q="mouse")}}function g(a){return"function"===typeof a}function p(a,c,d,b,e){return{relatedTarget:e,target:d,type:c,pointerType:b,timeStamp:a.getTimeStamp(),continuePropagation:function(){a.continuePropagation()}}}function u(a,c,d,b){a=a.type;h=!1;null===d.focusTarget||"mousedown"!==a&&"touchstart"!==a&&"pointerdown"!==a||b(!1)}
function C(a,c,d,b){var e=a.type;d.pointerType=q;switch(e){case "pointermove":case "pointerdown":case "pointerup":u(a,c,d,b);break;case "keydown":case "keyup":c=d.focusTarget;a=a.nativeEvent;d=a.altKey;e=a.ctrlKey;a.metaKey||!B&&d||e||null!==c&&b(!0);break;case "touchmove":case "touchstart":case "touchend":u(a,c,d,b);break;case "mousedown":n||u(a,c,d,b)}}function I(a,c,d){var b=d.pointerType,e=d.focusTarget,f=c.onFocus;g(f)&&(b=p(a,"focus",e,b,null),a.dispatchEvent(b,f,0));f=c.onFocusChange;g(f)&&
a.dispatchEvent(!0,f,0);d.isFocusVisible&&v(a,c,!0)}function w(a,c,d){var b=d.pointerType,e=d.focusTarget,f=c.onBlur;g(f)&&(b=p(a,"blur",e,b,null),a.dispatchEvent(b,f,0));f=c.onFocusChange;g(f)&&a.dispatchEvent(!1,f,0);d.isFocusVisible&&v(a,c,!1)}function J(a,c,d,b){var e=b.pointerType;c=b.focusTarget||c.target;d=d.onFocusWithin;g(d)&&(e=p(a,"focuswithin",c,e,null),a.dispatchEvent(e,d,0))}function K(a,c,d,b){var e=b.pointerType;c=b.focusTarget||c.target;d=d.onBlurWithin;g(d)&&(e=p(a,"blurwithin",
c,e,null),a.dispatchEvent(e,d,0))}function v(a,c,d){c=c.onFocusVisibleChange;g(c)&&a.dispatchEvent(d,c,0)}function r(a,c,d,b){var e=c.onFocusWithinChange;g(e)&&a.dispatchEvent(b,e,0);d.isFocusVisible&&x(a,c,d,b)}function x(a,c,d,b){c=c.onFocusWithinVisibleChange;g(c)&&a.dispatchEvent(b,c,0)}var h=!0,z=!1,q="",n=!1,B="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):!1,t=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==
typeof window.document.createElement)try{var m={};Object.defineProperty(m,"passive",{get:function(){t=!0}});window.addEventListener("test",m,m);window.removeEventListener("test",m,m)}catch(a){t=!1}var A="undefined"!==typeof window&&null!=window.PointerEvent?["keydown","keyup","pointermove","pointerdown","pointerup"]:"keydown keyup mousedown touchmove touchstart touchend".split(" ");m=["focus","blur","beforeblur"].concat(A);var D=["afterblur"],E=l.DEPRECATED_createResponder("Focus",{targetEventTypes:m,
targetPortalPropagation:!0,getInitialState:function(){return{detachedTarget:null,focusTarget:null,isFocused:!1,isFocusVisible:!1,pointerType:"",addedRootEvents:!1}},onMount:function(){y()},onEvent:function(a,c,d,b){var e=a.type,f=a.target;if(d.disabled)b.isFocused&&(w(c,d,b),b.isFocused=!1,b.focusTarget=null);else switch(e){case "focus":b.focusTarget=c.getResponderNode();b.isFocused||b.focusTarget!==f||(b.isFocused=!0,b.isFocusVisible=h,I(c,d,b));n=!1;break;case "blur":b.isFocused&&(w(c,d,b),b.isFocusVisible=
h,b.isFocused=!1);null==a.nativeEvent.relatedTarget&&(b.pointerType="");n=!1;break;default:C(a,c,b,function(a){b.isFocused&&b.isFocusVisible!==a&&(b.isFocusVisible=a,v(c,d,a))})}},onUnmount:function(a,c,d){d.isFocused&&w(a,c,d)}}),F=l.DEPRECATED_createResponder("FocusWithin",{targetEventTypes:m,targetPortalPropagation:!0,getInitialState:function(){return{detachedTarget:null,focusTarget:null,isFocused:!1,isFocusVisible:!1,pointerType:""}},onMount:function(){y()},onEvent:function(a,c,d,b){var e=a.type,
f=a.nativeEvent.relatedTarget;if(d.disabled)b.isFocused&&(r(c,d,b,!1),b.isFocused=!1,b.focusTarget=null);else switch(e){case "focus":b.focusTarget=c.getResponderNode();b.isFocused||(b.isFocused=!0,b.isFocusVisible=h,r(c,d,b,!0));!b.isFocusVisible&&h&&(b.isFocusVisible=h,x(c,d,b,!0));J(c,a,d,b);break;case "blur":b.isFocused&&!c.isTargetWithinResponder(f)&&(r(c,d,b,!1),K(c,a,d,b),b.isFocused=!1);break;case "beforeblur":e=d.onBeforeBlurWithin;g(e)?(f=p(c,"beforeblurwithin",a.target,b.pointerType,null),
b.detachedTarget=a.target,c.dispatchEvent(f,e,0),b.addedRootEvents||(b.addedRootEvents=!0,c.addRootEventTypes(D))):c.continuePropagation();break;default:C(a,c,b,function(a){b.isFocused&&b.isFocusVisible!==a&&(b.isFocusVisible=a,x(c,d,b,a))})}},onRootEvent:function(a,c,d,b){if("afterblur"===a.type){var e=b.detachedTarget;null!==e&&e===a.nativeEvent.relatedTarget&&(a=b.pointerType,d=d.onAfterBlurWithin,e=b.detachedTarget,g(d)&&null!==e&&(a=p(c,"afterblurwithin",e,a,e),c.dispatchEvent(a,d,0)),b.detachedTarget=
null,b.addedRootEvents&&(b.addedRootEvents=!1,c.removeRootEventTypes(D)))}},onUnmount:function(a,c,d){d.isFocused&&r(a,c,d,!1)}});k.FocusResponder=E;k.FocusWithinResponder=F;k.useFocus=function(a){return l.DEPRECATED_useResponder(E,a)};k.useFocusWithin=function(a){return l.DEPRECATED_useResponder(F,a)}});
