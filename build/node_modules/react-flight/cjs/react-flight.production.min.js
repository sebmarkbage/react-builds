/** @license React vundefined
 * react-flight.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
module.exports = function $$$reconciler($$$hostConfig) {
    var exports = {};
'use strict';var f=$$$hostConfig.supportsBinaryStreams,g=$$$hostConfig.createStringDecoder,h=$$$hostConfig.readPartialStringChunk,k=$$$hostConfig.readFinalStringChunk;function l(){var a=null;return{status:0,value:new Promise(function(b){return a=b}),resolve:a}}function m(a,b){if(0===a.status){var c=a.resolve;a.status=2;a.value=b;a.resolve=null;c()}}function n(a,b){a.chunks.forEach(function(a){m(a,b)})}
function p(a,b,c){Object.defineProperty(a,b,{configurable:!1,enumerable:!0,get:function(){if(1===c.status)return c.value;throw c.value;}})}function q(a,b,c){c=JSON.parse(c,a.fromJSON);var d=a.chunks;(a=d.get(b))?0===a.status&&(b=a.resolve,a.status=1,a.value=c,a.resolve=null,b()):d.set(b,{status:1,value:c,resolve:null})}
function r(a,b){if(""!==b)switch(b[0]){case "J":var c=b.indexOf(":",1),d=parseInt(b.substring(1,c),16);b=b.substring(c+1);q(a,d,b);break;case "E":c=b.indexOf(":",1);d=parseInt(b.substring(1,c),16);b=b.substring(c+1);c=JSON.parse(b);b=Error(c.message);b.stack=c.stack;a=a.chunks;(c=a.get(d))?m(c,b):a.set(d,{status:2,value:b,resolve:null});break;default:q(a,0,b)}}exports.complete=function(a){n(a,Error("Connection closed."))};
exports.createResponse=function(a){var b={},c=l();p(b,"model",c);var d=new Map;d.set(0,c);var e={source:a,partialRow:"",modelRoot:b,chunks:d,fromJSON:function(a,b){a:{var c=e;if("string"===typeof b&&"$"===b[0])if("$"===b[1])a=b.substring(1);else{b=parseInt(b.substring(1),16);c=c.chunks;var d=c.get(b);if(!d)d=l(),c.set(b,d);else if(1===d.status){a=d.value;break a}p(this,a,d);a=void 0}else a=b}return a}};f&&(e.stringDecoder=g());return e};exports.getModelRoot=function(a){return a.modelRoot};
exports.processBinaryChunk=function(a,b){if(!f)throw Error("This environment don't support binary chunks.");for(var c=a.stringDecoder,d=b.indexOf(10);-1<d;){var e=a.partialRow+k(c,b.subarray(0,d));r(a,e);a.partialRow="";b=b.subarray(d+1);d=b.indexOf(10)}a.partialRow+=h(c,b)};exports.processStringChunk=function(a,b,c){for(var d=b.indexOf("\n",c);-1<d;)c=a.partialRow+b.substring(c,d),r(a,c),a.partialRow="",c=d+1,d=b.indexOf("\n",c);a.partialRow+=b.substring(c)};exports.reportGlobalError=n;

    return exports;
};
