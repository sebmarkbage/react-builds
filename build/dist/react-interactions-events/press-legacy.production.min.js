/** @license React vundefined
 * react-interactions-events/press-legacy.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(n,u){"object"===typeof exports&&"undefined"!==typeof module?u(exports,require("react")):"function"===typeof define&&define.amd?define(["exports","react"],u):(n=n||self,u(n.ReactEventsPressLegacy={},n.React))})(this,function(n,u){function r(b){return"function"===typeof b}function G(b,c,d,a,f,g,e,h){b=b.getTimeStamp();var k=null,l=null,p=null,q=null,m=null,n=null,r=!1,u=!1,v=!1,w=!1,t;f&&(f=t=f.nativeEvent,r=f.altKey,u=f.ctrlKey,v=f.metaKey,w=f.shiftKey,g=g||t)&&(k=g.clientX,
l=g.clientY,p=g.pageX,q=g.pageY,m=g.screenX,n=g.screenY);var x={altKey:r,buttons:h.buttons,clientX:k,clientY:l,ctrlKey:u,defaultPrevented:e,metaKey:v,pageX:p,pageY:q,pointerType:a,screenX:m,screenY:n,shiftKey:w,target:d,timeStamp:b,type:c,x:k,y:l,preventDefault:function(){h.shouldPreventClick=!0;t&&(x.defaultPrevented=!0,t.preventDefault())},stopPropagation:function(){}};return x}function w(b,c,d,a,f,g){b=G(d,f,a.pressTarget,a.pointerType,b,a.touchEvent,null!=b&&!0===b.nativeEvent.defaultPrevented||
"press"===f&&a.shouldPreventClick,a);d.dispatchEvent(b,c,g)}function z(b,c,d,a){a.isPressed=!0;if(!a.isActivePressStart){a.isActivePressStart=!0;var f=b.nativeEvent,g=a.touchEvent||f;f=g.clientX;var e=g.clientY;g=a.isActivePressed;a.isActivePressed=!0;void 0!==f&&void 0!==e&&(a.activationPosition={x:f,y:e});f=d.onPressStart;r(f)&&w(b,f,c,a,"pressstart",0);g||(b=d.onPressChange,r(b)&&c.dispatchEvent(a.isActivePressed,b,0))}}function t(b,c,d,a){a.isActivePressStart=!1;a.isPressed=!1;if(a.isActivePressed){a.isActivePressed=
!1;var f=d.onPressEnd;r(f)&&w(b,f,c,a,"pressend",0);b=d.onPressChange;r(b)&&c.dispatchEvent(a.isActivePressed,b,0)}a.responderRegionOnDeactivation=null}function x(b,c,d,a){a.touchEvent=null;a.isPressed&&(a.ignoreEmulatedMouseEvents=!1,t(b,c,d,a));v(c,a)}function y(b){var c=b.key,d=b.target;b=d.tagName;d=d.isContentEditable;return("Enter"===c||" "===c||"Spacebar"===c)&&"INPUT"!==b&&"TEXTAREA"!==b&&!0!==d}function A(b,c,d){b=b.objectAssign({},H,d.pressRetentionOffset);var a=c.getBoundingClientRect();
c=a.left;d=a.right;var f=a.bottom;a=a.top;b&&(null!=b.bottom&&(f+=b.bottom),null!=b.left&&(c-=b.left),null!=b.right&&(d+=b.right),null!=b.top&&(a-=b.top));return{bottom:f,top:a,left:c,right:d}}function v(b,c){c.addedRootEvents&&(c.addedRootEvents=!1,b.removeRootEventTypes(B))}function C(b,c){b=b.changedTouches;for(var d=0;d<b.length;d++){var a=b[d];if(a.identifier===c)return a}return null}function D(b,c,d,a){null==a.responderRegionOnDeactivation&&(a.responderRegionOnDeactivation=A(c,a.pressTarget,
d));c=a.responderRegionOnActivation;d=a.responderRegionOnDeactivation;if(null!=c){var f=c.left;var g=c.top;var e=c.right;var h=c.bottom;null!=d&&(f=Math.min(f,d.left),g=Math.min(g,d.top),e=Math.max(e,d.right),h=Math.max(h,d.bottom))}c=b.clientX;b=b.clientY;a.isPressWithinResponderRegion=null!=f&&null!=e&&null!=g&&null!=h&&null!==c&&null!==b&&c>=f&&c<=e&&b>=g&&b<=h}var E="undefined"!==typeof window&&void 0!==window.PointerEvent,I="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):
!1,H={bottom:20,top:20,left:20,right:20},B=E?"pointerup_active pointermove pointercancel click keyup scroll blur".split(" "):"click keyup scroll mousemove touchmove touchcancel dragstart mouseup_active touchend blur".split(" "),F=u.DEPRECATED_createResponder("Press",{targetEventTypes:E?["keydown_active","pointerdown_active","click_active"]:["keydown_active","touchstart","mousedown_active","click_active"],getInitialState:function(){return{activationPosition:null,addedRootEvents:!1,buttons:0,isActivePressed:!1,
isActivePressStart:!1,isPressed:!1,isPressWithinResponderRegion:!0,pointerType:"",pressTarget:null,responderRegionOnActivation:null,responderRegionOnDeactivation:null,ignoreEmulatedMouseEvents:!1,activePointerId:null,shouldPreventClick:!1,touchEvent:null}},onEvent:function(b,c,d,a){var f=b.pointerType,g=b.type;if(d.disabled)v(c,a),t(b,c,d,a),a.ignoreEmulatedMouseEvents=!1;else{var e=b.nativeEvent,h=a.isPressed;switch(g){case "pointerdown":case "keydown":case "mousedown":case "touchstart":if(h)y(e)&&
" "===e.key&&e.preventDefault();else{var k="touchstart"===g,l="pointerdown"===g,p="keyboard"===f;h="mouse"===f;if("mousedown"!==g||!a.ignoreEmulatedMouseEvents){a.shouldPreventClick=!1;if(k)a.ignoreEmulatedMouseEvents=!0;else if(p)if(y(e)){g=e.altKey;p=e.ctrlKey;var q=e.metaKey,m=e.shiftKey;!1===d.preventDefault||m||q||p||g||(e.preventDefault(),a.shouldPreventClick=!0)}else break;a.pointerType=f;f=a.pressTarget=c.getResponderNode();if(l)a.activePointerId=e.pointerId;else if(k){k=e.targetTouches;k=
0<k.length?k[0]:null;if(null===k)break;a.touchEvent=k;a.activePointerId=k.identifier}2===e.buttons||4<e.buttons||I&&h&&e.ctrlKey||(null!==f&&9!==f.nodeType&&(a.responderRegionOnActivation=A(c,f,d)),a.responderRegionOnDeactivation=null,a.isPressWithinResponderRegion=!0,a.buttons=e.buttons,1===e.button&&(a.buttons=4),z(b,c,d,a),a.addedRootEvents||(a.addedRootEvents=!0,c.addRootEventTypes(B)))}}break;case "click":a.shouldPreventClick&&e.preventDefault();h=d.onPress;if(f=r(h))f=0===e.mozInputSource&&
e.isTrusted?!0:0===e.detail&&0===e.screenX&&0===e.screenY&&0===e.clientX&&0===e.clientY;f&&(a.pointerType="keyboard",a.pressTarget=c.getResponderNode(),!1!==d.preventDefault&&e.preventDefault(),w(b,h,c,a,"press",0))}}},onRootEvent:function(b,c,d,a){var f=b.pointerType,g=b.target,e=b.type,h=b.nativeEvent,k=a.isPressed,l=a.activePointerId,p=a.pointerType;switch(e){case "pointermove":case "mousemove":case "touchmove":if(p!==f)break;if("pointermove"===e&&l!==h.pointerId)break;else if("touchmove"===e){var q=
C(h,l);if(null===q)break;a.touchEvent=q}var m=a.pressTarget;null!==m&&null!==m&&9!==m.nodeType&&("mouse"===f&&c.isTargetWithinNode(g,m)?a.isPressWithinResponderRegion=!0:D(q||h,c,d,a));a.isPressWithinResponderRegion?k?(d=d.onPressMove,r(d)&&w(b,d,c,a,"pressmove",1)):z(b,c,d,a):t(b,c,d,a);break;case "pointerup":case "keyup":case "mouseup":case "touchend":if(k){if(k=a.buttons,q=!1,"pointerup"!==e||l===h.pointerId){if("touchend"===e){m=C(h,l);if(null===m)break;g=a.touchEvent=m;g=c.getActiveDocument().elementFromPoint(g.clientX,
g.clientY)}else if("keyup"===e){if(!y(h))break;q=!0;v(c,a)}else 4===k&&v(c,a);if(null!==g&&c.isTargetWithinResponder(g)&&c.isTargetWithinHostComponent(g,"a")){e=h.altKey;l=h.ctrlKey;p=h.metaKey;var n=h.shiftKey;!1===d.preventDefault||n||p||l||e||(a.shouldPreventClick=!0)}e=a.pressTarget;t(b,c,d,a);l=d.onPress;null!==e&&r(l)&&(q||null===e||null===g||null===e||9===e.nodeType||("mouse"===f&&c.isTargetWithinNode(g,e)?a.isPressWithinResponderRegion=!0:D(m||h,c,d,a)),a.isPressWithinResponderRegion&&4!==
k&&w(b,l,c,a,"press",0));a.touchEvent=null}}else"mouseup"===e&&(a.ignoreEmulatedMouseEvents=!1);break;case "click":"keyboard"!==p&&v(c,a);break;case "scroll":if("mouse"===p)break;f=a.pressTarget;h=h.target;g=c.getActiveDocument();null===f||h!==g&&!c.isTargetWithinNode(f,h)||x(b,c,d,a);break;case "pointercancel":case "touchcancel":case "dragstart":x(b,c,d,a);break;case "blur":!k||null!==h.relatedTarget&&g!==a.pressTarget||x(b,c,d,a)}},onUnmount:function(b,c,d){d.isPressed&&(v(b,d),t(null,b,c,d))}});
n.PressResponder=F;n.usePress=function(b){return u.DEPRECATED_useResponder(F,b)}});
